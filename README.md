# ุณุณุชู ุงูุจุงุฑุฏุงุฑ ุฏุงุฑู ๐

ูุจ ุงูพูฺฉุดู ุญุฑููโุง ู ูุฏุฑู ุจุฑุง ูุฏุฑุช ุงูุจุงุฑ ุฏุงุฑู ุจุง ูุงุจูุชโูุง ูพุดุฑูุชู

## ๐ ูฺฺฏโูุง ุงุตู

### ๐ ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ุงุญุฑุงุฒ ููุช
- ุณุณุชู ูุฑูุฏ ุงูู ุจุง ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ
- ููุดโูุง ูุฎุชูู ฺฉุงุฑุจุฑุงู (ุณููพุฑ ุงุฏููุ ุงุฏููุ ูุณุฆูู ุงูุจุงุฑ)
- ุณููพุฑ ุงุฏูู ูพุดโูุฑุถ: `superadmin` / `A25893Aa`

### ๐ ูุฏุฑุช ุฏุงุฑููุง
- ุซุจุช ุงุทูุงุนุงุช ฺฉุงูู ุฏุงุฑููุง (ูุงูุ ุชูุถุญุงุชุ ุฏูุฒุ ุชุงุฑุฎ ุงููุถุง)
- ุขูพููุฏ ุชุตูุฑ ุฏุงุฑููุง ุฏุฑ ูุถุง ุงุจุฑ
- ุฑุฏุงุจ ุชุงุฑุฎ ุงููุถุง ู ูุดุฏุงุฑ ุฏุงุฑููุง ูููุถ
- ุฌุณุชุฌู ู ููุชุฑ ูพุดุฑูุชู

### ๐ญ ูุฏุฑุช ุงูุจุงุฑูุง
- ุชุนุฑู ูุงูุญุฏูุฏ ุงูุจุงุฑ
- ููุงุด ุธุฑูุช ู ูุถุนุช ููุฌูุฏ ูุฑ ุงูุจุงุฑ
- ุงูุชูุงู ุฏุงุฑููุง ุจู ุงูุจุงุฑูุง (ุฑุณุฏ ู ุญูุงูู)
- ุซุจุช ฺฉุงูู ุชุงุฑุฎฺู ุงูุชูุงูุงุช

### ๐ ฺฏุฒุงุฑุดโฺฏุฑ ูพุดุฑูุชู
- ฺฏุฒุงุฑุด ููุฌูุฏ ุงูุจุงุฑูุง
- ฺฏุฒุงุฑุด ุฏุงุฑููุง ูุฒุฏฺฉ ุจู ุงููุถุง
- ฺฏุฒุงุฑุด ุงูุชูุงูุงุช ุจุง ููุชุฑูุง ูุฎุชูู
- ุฎุฑูุฌ ฺฏุฒุงุฑุดุงุช ุฏุฑ ูุฑูุชโูุง ูุฎุชูู

### โ๏ธ ุชูุธูุงุช ุณุณุชู
- ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ุณุทูุญ ุฏุณุชุฑุณ
- ุชูุธูุงุช ุงุนูุงูโูุง ู ูุดุฏุงุฑูุง
- ุชูุธูุงุช ุงููุช ู ูพุดุชุจุงูโฺฏุฑ
- ุชูุธูุงุช ููุงุด ู ุดุฎุตโุณุงุฒ

## ๐ ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู

- **Frontend**: React 18 + Vite
- **UI Framework**: Material UI v5
- **Backend & Database**: Supabase (PostgreSQL, Auth, Storage)
- **Routing**: React Router v6
- **Styling**: Emotion + Material UI theming
- **Language**: Persian (RTL support)
- **Font**: Vazirmatn (Persian font)

## ๐ฆ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง
```bash
Node.js >= 16
npm ุง yarn
ุญุณุงุจ ฺฉุงุฑุจุฑ Supabase
```

### 1. ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
```bash
git clone https://github.com/Alirezahamed1367/pharmacy-inventory.git
cd pharmacy-inventory
```

### 2. ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
npm install
```

### 3. ุชูุธู ูุชุบุฑูุง ูุญุท
```bash
# ฺฉูพ ฺฉุฑุฏู ูุงู ููููู
cp .env.example .env

# ูุฑุงุด ูุงู .env ู ูุงุฑุฏ ฺฉุฑุฏู ุงุทูุงุนุงุช Supabase
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. ุฑุงูโุงูุฏุงุฒ ูพุงฺฏุงู ุฏุงุฏู
1. ูุงุฑุฏ Supabase Dashboard ุดูุฏ
2. ูุงู `database/schema.sql` ุฑุง ุฏุฑ SQL Editor ุงุฌุฑุง ฺฉูุฏ
3. Storage bucket ุจุง ูุงู `drug-images` ุงุฌุงุฏ ฺฉูุฏ

### 5. ุงุฌุฑุง ูพุฑูฺู
```bash
# ุญุงูุช ุชูุณุนู
npm run dev

# ุณุงุฎุช ุจุฑุง production
npm run build
```

### ๐ง ุงุฌุฑุง ุณุฑุน ูุญู (Quickstart)
1. ูุงู `.env.example` ุฑุง ุจู `.env` ฺฉูพ ู ููุงุฏุฑ Supabase ุฑุง ูุงุฑุฏ ฺฉูุฏ.
2. ุงุทููุงู ุงุฒ ูุฌูุฏ bucket ุจุง ูุงู `drug-images`.
3. ุงุฌุฑุง ุฏุณุชูุฑ:
   ```bash
   npm run dev
   ```
4. ุงฺฏุฑ RLS ูุนุงู ุงุณุช ู ูููุฒ Supabase Auth ฺฉุงูู ูุฏุงุฑุฏ:
   - ุงุจุชุฏุง Migration ูุง ูพุงู ุฑุง ุงุนูุงู ฺฉูุฏ.
   - ุฏุฑ ุตูุฑุช ูุดฺฉู ุฏุฑุฌ ุฏุงุฑูุ Migration `2025_10_03_adjust_drugs_policies.sql` ุฑุง ุงุฌุฑุง ฺฉูุฏ.
5. ุจุฑุง ุจุฑุฑุณ ุณูุงูุช ุงููู:
   ```bash
   npm run smoke
   ```
6. ูพุด ุงุฒ ุงุนูุงู Migration ูุงุฒ 2 (NOT NULL lots):
   ```bash
   npm run audit:lots
   ```

## ๐ ุงุณุชูุฑุงุฑ (Deployment)

### ุงุณุชูุฑุงุฑ ุฑู Vercel

#### ุฑูุด ุงูู: ุงุฒ ุทุฑู GitHub (ุชูุตู ุดุฏู)
1. ูพุฑูฺู ุฑุง ุจู GitHub push ฺฉูุฏ
2. ูุงุฑุฏ [Vercel Dashboard](https://vercel.com) ุดูุฏ
3. ุฑู "New Project" ฺฉูฺฉ ฺฉูุฏ
4. ูุฎุฒู GitHub ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
5. ูุชุบุฑูุง ูุญุท ุฑุง ุฏุฑ ุชูุธูุงุช Vercel ูุงุฑุฏ ฺฉูุฏ:
   ```
   VITE_SUPABASE_URL=your_supabase_url
   VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
   ```
6. Deploy ฺฉูุฏ

#### ุฑูุด ุฏูู: ุงุฒ ุทุฑู CLI
```bash
# ูุตุจ Vercel CLI
npm i -g vercel

# ูุงุฑุฏ ุดุฏู ุจู ุญุณุงุจ
vercel login

# ุงุณุชูุฑุงุฑ
vercel --prod
```

### ุชูุธูุงุช ููู ุจุฑุง Vercel:
- **Framework**: Vite
- **Build Command**: `npm run build`
- **Output Directory**: `dist`
- **Node.js Version**: 18.x

### ุงุณุชูุฑุงุฑ ุฑู Netlify
1. ูุงุฑุฏ [Netlify Dashboard](https://netlify.com) ุดูุฏ
2. "New site from Git" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ูุฎุฒู GitHub ุฑุง ูุชุตู ฺฉูุฏ
4. ุชูุธูุงุช build:
   ```
   Build command: npm run build
   Publish directory: dist
   ```
5. ูุชุบุฑูุง ูุญุท ุฑุง ุฏุฑ Environment variables ุงุถุงูู ฺฉูุฏ

## ๐๏ธ ูพุงฺฏุงู ุฏุงุฏู

### ุณุงุฎุชุงุฑ ุฌุฏุงูู:
- `drug_categories` - ุฏุณุชูโุจูุฏ ุฏุงุฑููุง
- `users` - ฺฉุงุฑุจุฑุงู ุณุณุชู
- `warehouses` - ุงูุจุงุฑูุง
- `drugs` - ุงุทูุงุนุงุช ุฏุงุฑููุง
- `warehouse_inventory` - ููุฌูุฏ ุงูุจุงุฑูุง
- `drug_movements` - ุชุงุฑุฎฺู ุงูุชูุงูุงุช
- `system_settings` - ุชูุธูุงุช ุณุณุชู
- `activity_logs` - ูุงฺฏ ูุนุงูุชโูุง
npm >= 8
```

### ูุฑุงุญู ูุตุจ
```bash
# ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
git clone [repository-url]
cd inventory

# ูุตุจ ูพฺฉุฌโูุง
npm install

# ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ ุชูุณุนู
npm run dev
```

### ุชูุธูุงุช Supabase
1. ุงฺฉุงูุช Supabase ุงุฌุงุฏ ฺฉูุฏ
2. ูพุฑูฺู ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
3. ูุงู `src/services/supabase.js` ุฑุง ูุฑุงุด ฺฉูุฏ:
```javascript
const supabaseUrl = 'YOUR_SUPABASE_URL'
const supabaseKey = 'YOUR_SUPABASE_ANON_KEY'
```

## ๐ฏ ูุญูู ุงุณุชูุงุฏู

### ูุฑูุฏ ุจู ุณุณุชู
- ุจุฑุง ุชุณุช: ูุงู ฺฉุงุฑุจุฑ `superadmin` ู ุฑูุฒ ุนุจูุฑ `A25893Aa`
- ูพุณ ุงุฒ ูุฑูุฏุ ูโุชูุงูุฏ ฺฉุงุฑุจุฑุงู ุฌุฏุฏ ุชุนุฑู ฺฉูุฏ

### ุงูุฒูุฏู ุฏุงุฑู
1. ุจู ุจุฎุด "ูุฏุฑุช ุฏุงุฑููุง" ุจุฑูุฏ
2. ฺฉูฺฉ ุจุฑ ุฑู "ุงูุฒูุฏู ุฏุงุฑู ุฌุฏุฏ"
3. ุงุทูุงุนุงุช ุฏุงุฑู ุฑุง ูุงุฑุฏ ฺฉูุฏ
4. ุชุตูุฑ ุฏุงุฑู ุฑุง ุขูพููุฏ ฺฉูุฏ

### ุงูุชูุงู ุจู ุงูุจุงุฑูุง
1. ุจู ุจุฎุด "ูุฏุฑุช ุงูุจุงุฑูุง" ุจุฑูุฏ
2. ฺฉูฺฉ ุจุฑ ุฑู "ุงูุชูุงู ุจู ุงูุจุงุฑูุง"
3. ุงูุจุงุฑ ูุจุฏุงุ ููุตุฏ ู ุฏุงุฑู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. ุชุนุฏุงุฏ ู ุชูุถุญุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ

## ๐ฑ ูฺฺฏโูุง ุทุฑุงุญ

- **ุฑุณูพุงูุณู**: ุณุงุฒฺฏุงุฑ ุจุง ููุจุงูุ ุชุจูุช ู ุฏุณฺฉุชุงูพ
- **RTL**: ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฑุงุณุชโฺู ูุงุฑุณ
- **ูุฏุฑู**: ุทุฑุงุญ Material Design 3
- **ุฏุงุฑฺฉ ููุฏ**: ุขูุงุฏู ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ุชู ุชุฑู
- **ฺุงูพ**: ุจูููโุณุงุฒ ุดุฏู ุจุฑุง ฺุงูพ ฺฏุฒุงุฑุดุงุช

## ๐ง ุฏุณุชูุฑุงุช ููุฏ

```bash
# ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ ุชูุณุนู
npm run dev

# ุณุงุฎุช ูุณุฎู ุชููุฏ
npm run build

# ูพุดโููุงุด ูุณุฎู ุชููุฏ
npm run preview

# ุจุฑุฑุณ ฺฉูุช ฺฉุฏ
npm run lint

# ุงุณฺฉุฑูพุชโูุง ฺฉูุช ู ุงุนุชุจุงุฑุณูุฌ (Lots & Performance)
npm run smoke          # ุจุฑุฑุณ ุงุฌุฒุง ูพุงู ูพุฑูฺู
npm run audit:lots     # ุงุทููุงู ุงุฒ ูุจูุฏ NULL ุฏุฑ lot_id ูพุด ุงุฒ Migration ูุงุฒ 2
npm run perf:images    # ุชุณุช ุชุงุฎุฑ ุขูพููุฏ ู ูุฏุฑูุง ฺฉุด ุชุตูุฑ (Supabase Storage)
```

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
src/
โโโ components/          # ฺฉุงููพูููุชโูุง ูุงุจู ุงุณุชูุงุฏู ูุฌุฏุฏ
โ   โโโ Layout.jsx       # ูุงูุจ ุงุตู ุจุฑูุงูู
โโโ pages/               # ุตูุญุงุช ุงุตู
โ   โโโ Dashboard.jsx    # ุฏุงุดุจูุฑุฏ ุงุตู
โ   โโโ DrugManagement.jsx    # ูุฏุฑุช ุฏุงุฑููุง
โ   โโโ WarehouseManagement.jsx  # ูุฏุฑุช ุงูุจุงุฑูุง
โ   โโโ Reports.jsx      # ฺฏุฒุงุฑุดุงุช
โ   โโโ Settings.jsx     # ุชูุธูุงุช
โ   โโโ LoginPage.jsx    # ุตูุญู ูุฑูุฏ
โโโ services/            # ุณุฑูุณโูุง
โ   โโโ supabase.js      # ุชูุธูุงุช Supabase
โโโ hooks/               # Hookโูุง ุณูุงุฑุด
โโโ utils/               # ุชูุงุจุน ฺฉูฺฉ
```

## ๐ ุงุณุชูุฑุงุฑ (Deploy)

### Vercel (ุชูุตู ุดุฏู)
1. ุงฺฉุงูุช Vercel ุงุฌุงุฏ ฺฉูุฏ
2. ูพุฑูฺู ุฑุง ุจู GitHub ุขูพููุฏ ฺฉูุฏ
3. ูพุฑูฺู ุฑุง ุฏุฑ Vercel ูุตู ฺฉูุฏ
4. ูุชุบุฑูุง ูุญุท Supabase ุฑุง ุชูุธู ฺฉูุฏ

### Netlify
1. `npm run build` ุงุฌุฑุง ฺฉูุฏ
2. ูพูุดู `dist` ุฑุง ุฏุฑ Netlify ุขูพููุฏ ฺฉูุฏ
3. ุชูุธูุงุช environment variables ุฑุง ุงูุฌุงู ุฏูุฏ

## ๐จโ๐ป ุชูุณุนูโุฏููุฏู

**ุนูุฑุถุง ุญุงูุฏ**  
ูพุงุฒ 1404  

ุงู ูพุฑูฺู ุจุง ุนุดู ู ุฏูุช ุจุฑุง ูุฏุฑุช ุจููู ุงูุจุงุฑูุง ุฏุงุฑู ุทุฑุงุญ ู ุชูุณุนู ุงูุชู ุงุณุช.

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช.

---

๐ก **ูฺฉุชู**: ุจุฑุง ุฑุงูููุง ุจุดุชุฑ ู ุญู ูุดฺฉูุงุชุ ุจู ุจุฎุด Issues ุฏุฑ GitHub ูุฑุงุฌุนู ฺฉูุฏ.+ Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is not enabled on this template. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

## Expanding the ESLint configuration

If you are developing a production application, we recommend using TypeScript with type-aware lint rules enabled. Check out the [TS template](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) for information on how to integrate TypeScript and [`typescript-eslint`](https://typescript-eslint.io) in your project.

---
## โจ ูุงุฒ 2 Lots (ุงุฌุจุงุฑ ฺฉุฑุฏู lot_id)

ูพุณ ุงุฒ ุงุฌุฑุง ฺฉุงูู ููุงุฌุฑุช ุงููู ู ูพูุดุดโุฏู ููู ุฑฺฉูุฑุฏูุง ุจุง `lot_id`, ูุฑุญูู ุฏูู ุดุงูู ุงุฌุจุงุฑ ฺฉุฑุฏู ุงู ุณุชูู ุงุณุช.

### ูุฑุงุญู ูพุดููุงุฏ:
1. ุงุฌุฑุง ุงุณฺฉุฑูพุช ุงุนุชุจุงุฑุณูุฌ:
   ```bash
   npm run audit:lots
   ```
   ุงฺฏุฑ ุฎุฑูุฌ FAILED ุจูุฏุ ุงุจุชุฏุง ูุดฺฉู ุฑุง ุฑูุน ฺฉูุฏ.
2. ุงุนูุงู Migration ุฌุฏุฏ: ูุงู `database/migrations/2025_10_03_enforce_lot_not_null.sql` ุฑุง ุฏุฑ Supabase SQL ุงุฌุฑุง ฺฉูุฏ.
3. ุงุฌุฑุง Smoke Test ุจุฑุง ุงุทููุงู:
   ```bash
   npm run smoke
   ```
4. ุชุณุช ุนููุงุช ุฑุณุฏ ู ุญูุงูู ุจุง ุงุฌุงุฏ/ุชฺฉูู ููููู.

### ุฑูุน ุฎุทุง ุงุญุชูุงู Migration
ุงฺฏุฑ Migration ูพุงู ุฎุทุง ุฏุฑุจุงุฑู ูุฌูุฏ NULL ุฏุงุฏ:
- ูุฌุฏุฏ `audit:lots` ุฑุง ุงุฌุฑุง ู ุฑฺฉูุฑุฏูุง ูุดฺฉูโุฏุงุฑ ุฑุง ุจุง ฺฉ `UPDATE` ููุงุณุจ lot_id ุฏุงุฑ ฺฉูุฏ.
- ุณูพุณ ุฏูุจุงุฑู Migration ุฑุง ุงุฌุฑุง ููุงุฏ.

### ุงุณฺฉุฑูพุช ุนููฺฉุฑุฏ ุชุตุงูุฑ
ุจุฑุง ูุดุงูุฏู ูุงูฺฏู ุฒูุงู ุขูพููุฏ:
```bash
npm run perf:images
```
ุฎุฑูุฌ ุดุงูู ูุงูฺฏู ููโุซุงูู ู Sample headers ุจุฑุง ฺฉูุชุฑู Cache ุฎูุงูุฏ ุจูุฏุ ุฏุฑ ุตูุฑุช ูุงุฒ ูโุชูุงูุฏ ุชุนุฏุงุฏ ุชฺฉุฑุงุฑ ุฑุง ุชุบุฑ ุฏูุฏ:
```bash
node ./scripts/perfImageTest.mjs 5
```

