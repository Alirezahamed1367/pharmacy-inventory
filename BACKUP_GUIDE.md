# ๐ ุฑุงูููุง ุณุณุชู ูพุดุชุจุงูโฺฏุฑ ุฎูุฏฺฉุงุฑ
## ุณุณุชู ูุฏุฑุช ุงูุจุงุฑ ุฏุงุฑูุฎุงูู

**ุชูุณุนูโุฏููุฏู:** ุนูุฑุถุง ุญุงูุฏ  
**ุงูู:** alireza.h67@gmail.com  
**ุชุงุฑุฎ:** ูพุงุฒ 1404

---

## ๐ฏ ูฺฺฏโูุง ุณุณุชู Backup

### ๐ ุงููุช ู ูพุงุฏุงุฑ
- โ ูพุดุชุจุงูโฺฏุฑ ุฎูุฏฺฉุงุฑ ุฑูุฒุงูู ู ููุชฺฏ
- โ ุงุฑุณุงู ุจู ุงูู ุดุฎุต `alireza.h67@gmail.com`
- โ ุขูพููุฏ ุจู ูุฎุฒู GitHub ุฎุตูุต
- โ ุฐุฎุฑู ูุญู ุจุง ูุฏุฑุช ูุถุง
- โ ูุดุฑุฏูโุณุงุฒ ู ุฑูุฒฺฏุฐุงุฑ

### ๐ ฺฏุฒุงุฑุดโุฏู
- โ ุงุทูุงุนุงุช ฺฉุงูู backup ุฏุฑ ูุงู metadata
- โ ููุงุด ูุถุนุช ุฏุฑ ฺฉูุณูู
- โ ุงูู ุชุงุฆุฏู ูพุณ ุงุฒ backup ูููู

---

## ๐ ุฑุงูโุงูุฏุงุฒ ุณุฑุน

### 1๏ธโฃ ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
# ูุตุจ ูพฺฉุฌโูุง Python
pip install psycopg2-binary schedule requests

# ูุตุจ PostgreSQL tools (ุจุฑุง pg_dump)
# Windows: ุฏุงูููุฏ ุงุฒ postgresql.org
# Ubuntu: sudo apt-get install postgresql-client
# macOS: brew install postgresql
```

### 2๏ธโฃ ุชูุธู ูุชุบุฑูุง ูุญุท
```bash
# ุงุฌุงุฏ ูุงู .env
SUPABASE_HOST=your-supabase-host
SUPABASE_PORT=5432
SUPABASE_DB=postgres
SUPABASE_USER=postgres
SUPABASE_PASSWORD=your-password
GITHUB_TOKEN=your-github-token
```

### 3๏ธโฃ ุชูุธู Gmail App Password
1. ูุงุฑุฏ [Google Account](https://myaccount.google.com/) ุดูุฏ
2. Security โ 2-Step Verification โ App passwords
3. ุฑูุฒ ุฌุฏุฏ ุจุฑุง "Mail" ุงุฌุงุฏ ฺฉูุฏ
4. ุฑูุฒ ุฑุง ุฏุฑ `backup_system.py` ูุฑุงุฑ ุฏูุฏ

### 4๏ธโฃ ุงุฌุฑุง ุณุณุชู
```bash
# backup ููุฑ
python backup_system.py --now

# ุงุฌุฑุง ุฏุงุฆู (ุฎูุฏฺฉุงุฑ)
python backup_system.py
```

---

## ๐ ุฒูุงูโุจูุฏ Backup ูุง

| ููุน | ุฒูุงู | ูุฑฺฉุงูุณ | ุชูุถุญุงุช |
|-----|------|---------|---------|
| ๐ ุฑูุฒุงูู | 2:00 ุตุจุญ | ูุฑ ุฑูุฒ | ูพุดุชุจุงูโฺฏุฑ ฺฉุงูู |
| ๐ ููุชฺฏ | ฺฉุดูุจู 3:00 ุตุจุญ | ููุชฺฏ | ูพุดุชุจุงูโฺฏุฑ ุชฺฉูู |
| ๐ ููุฑ | ุฏุณุช | ุฏุฑ ุตูุฑุช ูุงุฒ | ุจุง ุฏุณุชูุฑ `--now` |

---

## ๐พ ููุงุตุฏ ุฐุฎุฑูโุณุงุฒ

### ๐ง ุงูู (ุงูููุช 1)
- **ููุตุฏ:** `alireza.h67@gmail.com`
- **ุญุฌู:** ุชุง 25 ูฺฏุงุจุงุช
- **ูุฑูุช:** ZIP + JSON metadata
- **ุงููุช:** ุงุฑุณุงู ุฑูุฒฺฏุฐุงุฑ ุดุฏู

### ๐ GitHub (ุงูููุช 2)
- **ูุฎุฒู:** `pharmacy-inventory`
- **ุดุงุฎู:** `backups`
- **ุฏุณุชุฑุณ:** ุฎุตูุต
- **ุญูุธ:** ุจูุงูุฏุช

### ๐ป ูุญู (ุงูููุช 3)
- **ูุณุฑ:** `./backups/`
- **ูฺฏูุฏุงุฑ:** 30 ูุงู ุขุฎุฑ
- **ูพุงฺฉโุณุงุฒ:** ุฎูุฏฺฉุงุฑ

---

## ๐ง ุณูุงุฑููุง ุจุงุฒุงุจ

### ๐ฆ ุจุงุฒุงุจ ุงุฒ Backup
```sql
-- 1. ุฑุณุช ฺฉุงูู ุณุณุชู
\i reset_system.sql

-- 2. ุจุงุฒุงุจ ุงุฒ ูุงู backup
psql -h host -U user -d database -f pharmacy_backup_YYYYMMDD_HHMMSS.sql

-- 3. ุชุณุช ุงุชุตุงู
SELECT 'ุณุณุชู ุจุงุฒุงุจ ุดุฏ' as status;
```

### ๐จ ุจุงุฒุงุจ ุงุถุทุฑุงุฑ
```bash
# 1. ุฏุงูููุฏ ุขุฎุฑู backup ุงุฒ ุงูู
# 2. ุงุณุชุฎุฑุงุฌ ูุงู ZIP
unzip pharmacy_backup_YYYYMMDD_HHMMSS.zip

# 3. ุจุฑุฑุณ metadata
cat pharmacy_backup_YYYYMMDD_HHMMSS_metadata.json

# 4. ุงุฌุฑุง ุจุงุฒุงุจ
psql -h host -U user -d database -f pharmacy_backup_YYYYMMDD_HHMMSS.sql
```

---

## โ๏ธ ุชูุธูุงุช ูพุดุฑูุชู

### ๐ ุชุบุฑ ุฒูุงูโุจูุฏ
```python
# ุฏุฑ backup_system.py
schedule.every().hour.do(self.run_backup)  # ูุฑ ุณุงุนุช
schedule.every(30).minutes.do(self.run_backup)  # ูุฑ 30 ุฏููู
schedule.every().monday.at("10:30").do(self.run_backup)  # ุฏูุดูุจู 10:30
```

### ๐ ุชุบุฑ ูุณุฑ backup
```python
self.local_backup_path = 'D:/Backups/Pharmacy'  # ูุณุฑ ุฏูุฎูุงู
self.max_local_backups = 50  # ุชุนุฏุงุฏ ุจุดุชุฑ ูุงู
```

### ๐ง ุงุถุงูู ฺฉุฑุฏู ฺฏุฑูุฏู
```python
'recipients': [
    'alireza.h67@gmail.com',
    'admin@pharmacy.com',
    'manager@pharmacy.com'
]
```

---

## ๐ก๏ธ ุงููุช ู ูฺฉุงุช ููู

### โ๏ธ ูุดุฏุงุฑูุง ุงููุช
- **ูุฑฺฏุฒ** ุฑูุฒูุง ูุงูุน ุฑุง ุฏุฑ ฺฉุฏ commit ูฺฉูุฏ
- ุงุฒ **App Password** ุจุฑุง Gmail ุงุณุชูุงุฏู ฺฉูุฏ
- GitHub Token ุฑุง **ูุญุฏูุฏ** ฺฉูุฏ (ููุท repo access)
- ูุงูโูุง backup ุฑุง ุฏุฑ ูุญู **ุงูู** ูฺฏูุฏุงุฑุฏ

### ๐ ุชูุตูโูุง ุงููุช
1. **ุฑูุฒฺฏุฐุงุฑ ูุงูโูุง:** ุงุฒ GPG ุจุฑุง ุฑูุฒฺฏุฐุงุฑ ุงุณุชูุงุฏู ฺฉูุฏ
2. **ุฏู ูุฑุญููโุง Gmail:** ุญุชูุงู ูุนุงู ฺฉูุฏ
3. **Token ูุญุฏูุฏ:** GitHub token ุฑุง ูุญุฏูุฏ ุจู ูุฎุฒู ุฎุงุต ฺฉูุฏ
4. **ุจุฑุฑุณ ุฏูุฑูโุง:** ูุถุนุช backup ูุง ุฑุง ฺฉูุชุฑู ฺฉูุฏ

---

## ๐ ุนุจโุงุจ

### โ ูุดฺฉูุงุช ุฑุงุฌ

#### ุฎุทุง ุงุชุตุงู ูพุงฺฏุงู ุฏุงุฏู
```bash
# ุจุฑุฑุณ ุงุชุตุงู
pg_isready -h host -p port

# ุชุณุช ุงุชุตุงู ุฏุณุช
psql -h host -U user -d database -c "SELECT version();"
```

#### ุฎุทุง ุงุฑุณุงู ุงูู
```python
# ูุนุงูโุณุงุฒ less secure apps (Gmail)
# ุง ุงุณุชูุงุฏู ุงุฒ App Password
```

#### ุฎุทุง GitHub API
```bash
# ุจุฑุฑุณ token
curl -H "Authorization: token YOUR_TOKEN" \
     https://api.github.com/user
```

### ๐ ูพุดุชุจุงู
**ุชูุณุนูโุฏููุฏู:** ุนูุฑุถุง ุญุงูุฏ  
**ุงูู:** alireza.h67@gmail.com  
**ูพุฑูฺู:** [GitHub Repository](https://github.com/Alirezahamed1367/pharmacy-inventory)

---

## ๐ ูุณุฎูโูุง ุขุช

### ๐ ูฺฺฏโูุง ุจุฑูุงููโุฑุฒ ุดุฏู
- [ ] ุฑูุฒฺฏุฐุงุฑ ูุงูโูุง backup
- [ ] ูพุดุชุจุงูโฺฏุฑ ุงูุฒุงุด
- [ ] ุขูพููุฏ ุจู ูุถุง ุงุจุฑ (Google Drive, Dropbox)
- [ ] Dashboard ูุจ ุจุฑุง ูุฏุฑุช backup ูุง
- [ ] ูุดุฏุงุฑ ุฏุฑ ุตูุฑุช ุนุฏู ููููุช backup

### ๐ ุขูุงุฑ ู ฺฏุฒุงุฑุด
- [ ] ฺฏุฒุงุฑุด ุญุฌู backup ูุง
- [ ] ูููุฏุงุฑ ููููุช/ุดฺฉุณุช
- [ ] ูพุดโุจู ูุถุง ููุฑุฏ ูุงุฒ

---

*ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู: ูพุงุฒ 1404 - ุนูุฑุถุง ุญุงูุฏ*